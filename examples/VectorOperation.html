<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Vector Operation</title>
    </head>
    <body>
        <script type="module">
            import * as mp from "../src/mraph.js";

            // constant
            const PI = Math.PI;

            const layer = new mp.Layer().appendTo(document.body);
            const camera = layer.camera;
            const axes = new mp.Axes();

            const oringin = new mp.Point(0, 0);
            const pA = new mp.Point(3, 2);
            const pB = new mp.Point(-1, 3);

            const a = new mp.Arrow(oringin, pA);
            const b = new mp.Arrow(oringin, pB);
            const cross = new mp.Arrow(oringin, a.vector.cross(b.vector));

            layer.add(oringin, axes, pA, pB, a, b, cross);

            pA.moveTo([-1, -3, 0], { runTime: 10 });

            camera.position.copy([7, 7, 7]);
            camera.lookAt([0, 0, 0]);
            console.log(camera.rotation);
            layer.play(mp.COLORS.GRAY_E);
            layer.actionList.add(0, Infinity, {
                update: () => {
                    cross.vector = a.vector.cross(b.vector);
                    cross.normal = layer.camera.position;
                },
            });
        </script>
    </body>
</html>
