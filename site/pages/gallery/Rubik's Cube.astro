---
import Example from "../../layouts/Example.astro";
---

<Example title="Rubik's Cube">
    <script>
        import * as mp from "../../../src/mraph.js";
        const layer = new mp.Layer().appendTo(document.body);
        const gl = layer.renderer.gl;

        const mesh = await mp.OBJLoader.parseToGeometry(
            "/Mraph.js/Rubik's Cube.obj"
        );
        mesh.material = new mp.LambertMaterial();
        mesh.material.colorMode = "texture";

        const texture = mp.Texture.loadFile(
            layer.renderer.gl,
            "/Mraph.js/Rubik's Cube.png"
        );
        texture.magFilter = mp.GLENUM.NEAREST;
        mesh.material.map = texture;
        layer.add(mesh);

        const pointLight = new mp.PointLight({
            position: new mp.Vector(1, 3, 7),
            intensity: 30,
        });
        layer.add(pointLight);

        layer.camera.position[2] = 3;
        layer.enableOrbitControl();
        layer.play();
    </script>
</Example>
